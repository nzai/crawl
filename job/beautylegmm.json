[{
    "type":"get",
    "parameters": {
        "url": {
            "type": "static",
            "value": "http://www.beautylegmm.com/"
        },
        "key": "frontPage",
        "debug": false
    },
    "actions":[{
        "type": "match",
        "parameters": {
            "key": "frontPage",
            "pattern": "(?s)>(\\d+)</a></li><li class=\"next\">",
            "keys": ["frontPages"]
        },
        "actions":[{
            "type": "range",
            "parameters": {
                "start": {
                    "type": "static",
                    "value": 1
                },
                "end": {
                    "type": "context",
                    "key": "frontPages"
                },
                "format": "%d",
                "key": "frontPageIndex",
                "parallel": 4,
                "debug": false
            },
            "actions":[{
                "type":"get",
                "parameters": {
                    "url": {
                        "type": "format",
                        "pattern": "http://www.beautylegmm.com/index-%s.html",
                        "keys": ["frontPageIndex"]
                    },
                    "key": "frontPageHtml"
                },
                "actions":[{
                    "type": "match",
                    "parameters": {
                        "key": "frontPageHtml",
                        "pattern": "(?s)class=\"post_weidaopic_title\"><a href=\"([^\"]*?)\" target=\"_blank\">.*?No.(\\d+) (\\w+) (\\d{4}).\\d{2}.\\d{2} \\[(\\d+)P\\]<",
                        "keys": ["sectionPageUrl", "sectionNo", "sectionGirl", "sectionYear", "sectionPictures"],
                        "debug": false
                    },
                    "actions":[{
                        "type": "range",
                        "parameters": {
                            "start": {
                                "type": "static",
                                "value": 0
                            },
                            "end": {
                                "type": "context",
                                "key": "sectionPictures",
                                "offset": -1
                            },
                            "format": "%.4d",
                            "key": "sectionIndex",
                            "parallel": 16
                        },
                        "actions":[{
                            "type":"download",
                            "parameters": {
                                "url": {
                                    "type": "format",
                                    "pattern": "http://www.beautylegmm.com/photo/beautyleg/%s/%s/beautyleg-%s-%s.jpg",
                                    "keys": ["sectionYear","sectionNo","sectionNo","sectionIndex"]
                                },
                                "path": {
                                    "type": "format",
                                    "pattern": "g:\\pic\\BeautylegMM\\%s\\%s %s\\%s.jpg",
                                    "keys": ["sectionYear", "sectionNo", "sectionGirl", "sectionIndex"]
                                }
                            }
                        }]
                    }]
                }]
            }]
        }]
    }]
}]